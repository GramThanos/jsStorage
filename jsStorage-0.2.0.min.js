/*
 * jsStorage v0.2.0 Beta
 *
 * A simple javascript library to use
 * localStorage / sessionStorage / cookies / window.name
 * with the same API
 *
 * Authors:
 *     Grammatopoulos Athanasios - Vasileios
 * License : The MIT License (MIT)
 */

(function(){var jsStorage=function(a){this._initialize(a)};jsStorage.version="v0.2.0 Beta";jsStorage.prototype.defaultStorage=null;jsStorage.prototype.localStorage=null;jsStorage.prototype.sessionStorage=null;jsStorage.prototype.cookieStorage=null;jsStorage.prototype.windowNameStorage=null;jsStorage.prototype._initialize=function(a){"local"==a?this.defaultStorage=this.localStorage=new f:"session"==a?this.defaultStorage=this.sessionStorage=new g:"cookie"==a||"cookies"==a?this.defaultStorage=this.cookieStorage=
new c:"window-name"==a||"window_name"==a?this.defaultStorage=this.windowNameStorage=new e:(this.localStorage=new f,this.sessionStorage=new g,this.cookieStorage=new c,this.windowNameStorage=new e,this.defaultStorage="undefined"!==typeof window.localStorage?this.localStorage:this.cookieStorage)};jsStorage.prototype.useLocalStorage=function(){this.localStorage||(this.localStorage=new f);this.defaultStorage=this.localStorage};jsStorage.prototype.getLocalStorage=function(){return new f};jsStorage.prototype.useSessionStorage=
function(){this.sessionStorage||(this.sessionStorage=new g);this.defaultStorage=this.sessionStorage};jsStorage.prototype.getSessionStorage=function(){return new g};jsStorage.prototype.useCookieStorage=function(){this.cookieStorage||(this.cookieStorage=new c);this.defaultStorage=this.cookieStorage};jsStorage.prototype.getCookieStorage=function(){return new c};jsStorage.prototype.useWindowNameStorage=function(){this.windowNameStorage||(this.windowNameStorage=new e);this.defaultStorage=this.windowNameStorage};
jsStorage.prototype.getWindowNameStorage=function(){return new e};jsStorage.prototype.setItem=function(a,b){return this.defaultStorage.setItem(a,b)};jsStorage.prototype.set=jsStorage.prototype.setItem;jsStorage.prototype.getItem=function(a){return this.defaultStorage.getItem(a)};jsStorage.prototype.get=jsStorage.prototype.getItem;jsStorage.prototype.removeItem=function(a){return this.defaultStorage.removeItem(a)};jsStorage.prototype.remove=jsStorage.prototype.removeItem;jsStorage.prototype.del=jsStorage.prototype.removeItem;
jsStorage.prototype.key=function(a){return this.defaultStorage.key(a)};jsStorage.prototype.length=function(){return this.defaultStorage.length()};jsStorage.prototype.clear=function(){return this.defaultStorage.clear()};jsStorage.prototype.type=function(){return this.defaultStorage.type()};var f=function(){this.storageType="local"};f.prototype.setItem=function(a,b){d(2,arguments.length,"setItem");return window.localStorage.setItem(a,b)};f.prototype.set=f.prototype.setItem;f.prototype.getItem=function(a){d(1,
arguments.length,"getItem");return window.localStorage.getItem(a)};f.prototype.get=f.prototype.getItem;f.prototype.removeItem=function(a){d(1,arguments.length,"removeItem");return window.localStorage.removeItem(a)};f.prototype.remove=f.prototype.removeItem;f.prototype.del=f.prototype.removeItem;f.prototype.key=function(a){d(1,arguments.length,"key");return window.localStorage.key(a)};f.prototype.length=function(){return window.localStorage.length};f.prototype.clear=function(){return window.localStorage.clear()};
f.prototype.type=function(){return this.storageType};f.prototype.setDomain=function(a){d(1,arguments.length,"setDomain");document.domain=a};var g=function(){this.storageType="session"};g.prototype.setItem=function(a,b){d(2,arguments.length,"setItem");return window.sessionStorage.setItem(a,b)};g.prototype.set=g.prototype.setItem;g.prototype.getItem=function(a){d(1,arguments.length,"getItem");return window.sessionStorage.getItem(a)};g.prototype.get=g.prototype.getItem;g.prototype.removeItem=function(a){d(1,
arguments.length,"removeItem");return window.sessionStorage.removeItem(a)};g.prototype.remove=g.prototype.removeItem;g.prototype.del=g.prototype.removeItem;g.prototype.key=function(a){d(1,arguments.length,"key");return window.sessionStorage.key(a)};g.prototype.length=function(){return window.sessionStorage.length};g.prototype.clear=function(){return window.sessionStorage.clear()};g.prototype.type=function(){return this.storageType};g.prototype.setDomain=function(a){d(1,arguments.length,"setDomain");
document.domain=a};var c=function(){this.storageType="session";this._parameters={};this.setExpiration(365);this.setDomain(document.domain);this.setPath("/")};c.prototype.setItem=function(a,b){d(2,arguments.length,"setItem");document.cookie=escape(a)+"="+escape(b.toString())+";"+this._parameters.domain+this._parameters.path+this._parameters.expiration};c.prototype.set=c.prototype.setItem;c.prototype.getItem=function(a){d(1,arguments.length,"getItem");a=escape(a)+"=";for(var b=document.cookie.split(";"),
c=0;c<b.length;c++){for(;" "==b[c].charAt(0);)b[c]=b[c].substring(1);if(0==b[c].indexOf(a))return unescape(b[c].substring(a.length,b[c].length))}return null};c.prototype.get=c.prototype.getItem;c.prototype.removeItem=function(a){d(1,arguments.length,"removeItem");document.cookie=escape(a)+"=null;"+this._parameters.domain+this._parameters.path+"expires=Thu, 01 Jan 1970 00:00:01 GMT;"};c.prototype.remove=c.prototype.removeItem;c.prototype.del=c.prototype.removeItem;c.prototype.key=function(a){d(1,arguments.length,
"key");var b=document.cookie.split(";");if(b.length<=a||0>a)return null;for(;" "==b[a].charAt(0);)b[a]=b[a].substring(1);return unescape(b[a].substring(0,b[a].indexOf("=")))};c.prototype.length=function(){return 0<document.cookie.length?document.cookie.split(";").length:0};c.prototype.clear=function(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(;" "==a[b].charAt(0);)a[b]=a[b].substring(1);this.removeItem(unescape(a[b].substring(0,a[b].indexOf("="))))}};c.prototype.type=function(){return this.storageType};
c.prototype._parameters=null;c.prototype.setDomain=function(a){d(1,arguments.length,"setDomain");this._parameters.domain="domain="+escape(a)+";"};c.prototype.setPath=function(a){d(1,arguments.length,"setPath");this._parameters.path="path="+escape(a)+";"};c.prototype.setExpiration=function(a){d(1,arguments.length,"setExpiration");var b=new Date;b.setTime(b.getTime()+864E5*a);this._parameters.expiration="expires="+b.toUTCString()+";"};var e=function(){this.storageType="window-name"};e.prototype.setItem=
function(a,b){d(2,arguments.length,"setItem");var c=this._load();c[a]=b.toString();this._save(c)};e.prototype.set=e.prototype.setItem;e.prototype.getItem=function(a){d(1,arguments.length,"getItem");var b=this._load();return"undefined"!=typeof b[a]?b[a]:null};e.prototype.get=e.prototype.getItem;e.prototype.removeItem=function(a){d(1,arguments.length,"removeItem");var b=this._load();delete b[a];this._save(b)};e.prototype.remove=e.prototype.removeItem;e.prototype.del=e.prototype.removeItem;e.prototype.key=
function(a){d(1,arguments.length,"key");var b=this._load(),b=Object.keys(b);if(b.length<=a)return null;delete b[a]};e.prototype.length=function(){var a=this._load();return Object.keys(a).length};e.prototype.clear=function(){this._save({})};e.prototype.type=function(){return this.storageType};e.prototype._load=function(){var a;try{a=JSON.parse(window.name)}catch(b){a={}}return a};e.prototype._save=function(a){d(1,arguments.length,"_save");window.name=JSON.stringify(a)};var d=function(a,b,c){if(b<a)throw c&&
(c=' "'+c+'" '),"Not enough arguments to"+c+"method.";},k=new jsStorage,h={jS:void 0,jsStorage:void 0,storage:void 0},l=function(){void 0!=window.jS&&window.jS!=jsStorage&&(h.jS=window.jS);void 0!=window.jsStorage&&window.jsStorage!=jsStorage&&(h.jsStorage=window.jsStorage);void 0!=window.storage&&window.storage!=jsStorage&&(h.storage=window.storage)};jsStorage.prototype.noConflict=function(a){!0===a?(void 0!=h.jS&&(window.jS=h.jS),void 0!=h.storage&&(window.storage=h.storage)):!1===a&&(l(),window.jS=
window.jsStorage=jsStorage,window.storage=k);return h};l();window.jS=window.jsStorage=jsStorage;void 0==window.storage&&(window.storage=k)})();
